{% extends "base.html" %}

{% block content %}
<div class="d-flex align-items-center justify-content-between mb-3">
  <div>
    <h1 class="h4 fw-bold mb-1">{{ form_title }}</h1>
    <div class="text-muted small">
      Διαχείριση στοιχείων προμηθευτή (ΑΦΜ, επωνυμία, διεύθυνση, IBAN κ.λπ.).
    </div>
  </div>
  <a href="{{ url_for('settings.suppliers_list') }}" class="btn btn-outline-secondary btn-sm">
    &larr; Πίσω στη λίστα Προμηθευτών
  </a>
</div>

<div class="card glass-card shadow-sm border-0 mb-3">
  <div class="card-body">
    <h2 class="h6 fw-bold mb-3">Βασικά στοιχεία Προμηθευτή</h2>

    <form method="post">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      <div class="row g-3">
        <!-- Αριστερή στήλη: πεδία προμηθευτή -->
        <div class="col-12 col-lg-8">

          <!-- ΑΦΜ -->
          <div class="mb-2 row align-items-center">
            <label class="col-4 col-form-label col-form-label-sm">Α.Φ.Μ.</label>
            <div class="col-8">
              <input type="text"
                     name="afm"
                     class="form-control form-control-sm"
                     placeholder="9 ψηφία, π.χ. 012345678"
                     value="{{ supplier.afm if supplier and supplier.afm is not none else '' }}"
                     required>
            </div>
          </div>

          <!-- Επωνυμία -->
          <div class="mb-2 row align-items-center">
            <label class="col-4 col-form-label col-form-label-sm">Επωνυμία *</label>
            <div class="col-8">
              <input type="text"
                     name="name"
                     class="form-control form-control-sm"
                     value="{{ supplier.name if supplier and supplier.name is not none else '' }}"
                     required>
            </div>
          </div>

          <!-- Διεύθυνση -->
          <div class="mb-2 row align-items-center">
            <label class="col-4 col-form-label col-form-label-sm">Διεύθυνση</label>
            <div class="col-8">
              <input type="text"
                     name="address"
                     class="form-control form-control-sm"
                     value="{{ supplier.address if supplier and supplier.address is not none else '' }}">
            </div>
          </div>

          <!-- Τόπος -->
          <div class="mb-2 row align-items-center">
            <label class="col-4 col-form-label col-form-label-sm">Τόπος</label>
            <div class="col-8">
              <input type="text"
                     name="city"
                     class="form-control form-control-sm"
                     value="{{ supplier.city if supplier and supplier.city is not none else '' }}">
            </div>
          </div>

          <!-- Τ.Κ. -->
          <div class="mb-2 row align-items-center">
            <label class="col-4 col-form-label col-form-label-sm">Τ.Κ.</label>
            <div class="col-8">
              <input type="text"
                     name="postal_code"
                     class="form-control form-control-sm"
                     value="{{ supplier.postal_code if supplier and supplier.postal_code is not none else '' }}">
            </div>
          </div>

          <!-- Χώρα -->
          <div class="mb-2 row align-items-center">
            <label class="col-4 col-form-label col-form-label-sm">Χώρα</label>
            <div class="col-8">
              <input type="text"
                     name="country"
                     class="form-control form-control-sm"
                     value="{% if supplier and supplier.country is not none %}{{ supplier.country }}{% else %}Ελλάδα{% endif %}">
            </div>
          </div>

          <!-- Τράπεζα -->
          <div class="mb-2 row align-items-center">
            <label class="col-4 col-form-label col-form-label-sm">Τράπεζα</label>
            <div class="col-8">
              <input type="text"
                     name="bank_name"
                     class="form-control form-control-sm"
                     value="{{ supplier.bank_name if supplier and supplier.bank_name is not none else '' }}">
            </div>
          </div>

          <!-- IBAN -->
          <div class="mb-2 row align-items-center">
            <label class="col-4 col-form-label col-form-label-sm">IBAN</label>
            <div class="col-8">
              <input type="text"
                     name="iban"
                     class="form-control form-control-sm"
                     value="{{ supplier.iban if supplier and supplier.iban is not none else '' }}">
            </div>
          </div>
        </div>

        <!-- Δεξιά στήλη: πληροφοριακό κείμενο -->
        <div class="col-12 col-lg-4">
          <div class="card bg-light border-0 h-100">
            <div class="card-body py-3 small">
              <div class="fw-bold mb-2">Σημείωση</div>
              <p class="mb-2">
                Το ΑΦΜ είναι μοναδικό για κάθε προμηθευτή. Ο έλεγχος
                μοναδικότητας γίνεται στον κώδικα ώστε να μην δημιουργούνται
                διπλές εγγραφές.
              </p>
              <p class="mb-0 text-muted">
                Τα στοιχεία αυτά χρησιμοποιούνται στις φόρμες προμηθειών
                και στις μελλοντικές αναφορές (π.χ. προτιμολόγια, πρωτόκολλα).
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-3">
        <button class="btn btn-primary btn-sm">
          Αποθήκευση Προμηθευτή
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}